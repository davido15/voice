<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Voice Agent</title>
    <meta charset="UTF-8" />
    <script src="https://elevenlabs.io/convai-widget/index.js" async></script>
    <style>
      body {
        background-color: #0f172a;
        color: white;
        font-family: sans-serif;
        text-align: center;
        padding: 40px;
      }
    </style>
  </head>
  <body>
    <h1>AI Voice Assistant</h1>
    <elevenlabs-convai agent-id="RjxwQJi2L14jPiXtEmOo"></elevenlabs-convai>

    <script>
      // Get location and send to React Native
      navigator.geolocation.getCurrentPosition(
        (pos) => {
          const coords = {
            latitude: pos.coords.latitude,
            longitude: pos.coords.longitude,
          };
          window.ReactNativeWebView?.postMessage(JSON.stringify(coords));
        },
        (err) => {
          console.error("Location error:", err);
          window.ReactNativeWebView?.postMessage(JSON.stringify({ error: err.message }));
        }
      );
    </script>
  </body>
</html>
